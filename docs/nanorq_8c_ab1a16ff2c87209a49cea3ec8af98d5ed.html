<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>nanorq: gen_scheme_specific</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">nanorq
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">raptorq</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('nanorq_8c_ab1a16ff2c87209a49cea3ec8af98d5ed.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="contents">
<a id="ab1a16ff2c87209a49cea3ec8af98d5ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1a16ff2c87209a49cea3ec8af98d5ed">&#9670;&nbsp;</a></span>gen_scheme_specific()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="nanorq_8c.html#structoti__scheme">oti_scheme</a> gen_scheme_specific </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="nanorq_8c.html#structoti__common">oti_common</a> *&#160;</td>
          <td class="paramname"><em>common</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nanorq_8c_source.html#l00074">74</a> of file <a class="el" href="nanorq_8c_source.html">nanorq.c</a>.</p>

<p class="reference">References <a class="el" href="nanorq_8c_source.html#l00020">oti_common::Al</a>, <a class="el" href="nanorq_8c_source.html#l00018">oti_common::F</a>, <a class="el" href="table2_8h_source.html#l00049">K_max</a>, <a class="el" href="table2_8h_source.html#l00003">K_padded</a>, <a class="el" href="table2_8h_source.html#l00050">K_padded_size</a>, <a class="el" href="nanorq_8c_source.html#l00028">oti_scheme::Kt</a>, <a class="el" href="nanorq_8c_source.html#l00027">oti_scheme::N</a>, <a class="el" href="nanorq_8c_source.html#l00021">oti_common::SS</a>, <a class="el" href="nanorq_8c_source.html#l00019">oti_common::T</a>, <a class="el" href="nanorq_8c_source.html#l00022">oti_common::WS</a>, and <a class="el" href="nanorq_8c_source.html#l00026">oti_scheme::Z</a>.</p>
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                                                                        {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keyword">struct </span><a class="code" href="nanorq_8c.html#structoti__scheme">oti_scheme</a> ret = {0};</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordtype">size_t</span> N_max = (size_t) (<a class="code" href="util_8h_a0d345b215d6d851cdfbda58e48523f14.html#a0d345b215d6d851cdfbda58e48523f14">div_floor</a>(common-&gt;<a class="code" href="nanorq_8c.html#a32016e9752476d685a6cbb943497fddb">T</a>, common-&gt;<a class="code" href="nanorq_8c.html#ab3556e4efb8921739e7f8d9665da2169">SS</a>)), n;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    ret.<a class="code" href="nanorq_8c.html#ab636f5e41b2988250d8026bda1b38366">Kt</a> = <a class="code" href="util_8h_ac322750564abf93294e2ee9d453a4cca.html#ac322750564abf93294e2ee9d453a4cca">div_ceil</a>(common-&gt;<a class="code" href="nanorq_8c.html#af0680321aafddec8e701c78a3a1fc512">F</a>, common-&gt;<a class="code" href="nanorq_8c.html#a32016e9752476d685a6cbb943497fddb">T</a>);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    uint16_vec KL;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="kvec_8h_a4a671ac1834fd07b44c20b76ef01c707.html#a4a671ac1834fd07b44c20b76ef01c707">kv_init</a>(KL);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="kvec_8h_a26b7d82301afb9448e9986d2ea0b4c66.html#a26b7d82301afb9448e9986d2ea0b4c66">kv_resize</a>(uint16_t, KL, N_max);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    memset(KL.a, 0, <a class="code" href="kvec_8h_a59990a38a9dc0867b4b5070835e16428.html#a59990a38a9dc0867b4b5070835e16428">kv_size</a>(KL));</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">for</span> (n = 1; n &lt;= N_max; n++) {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordtype">size_t</span> KL_max =</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                (size_t) common-&gt;<a class="code" href="nanorq_8c.html#a9c45df87b235e7bcda3ed5a6bfccb65f">WS</a> /</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                ((<span class="keywordtype">size_t</span>) common-&gt;<a class="code" href="nanorq_8c.html#ad5579bcfef782badbec24301ef37575f">Al</a> * <a class="code" href="util_8h_ac322750564abf93294e2ee9d453a4cca.html#ac322750564abf93294e2ee9d453a4cca">div_ceil</a>(common-&gt;<a class="code" href="nanorq_8c.html#a32016e9752476d685a6cbb943497fddb">T</a>, (<span class="keywordtype">size_t</span>) (common-&gt;<a class="code" href="nanorq_8c.html#ad5579bcfef782badbec24301ef37575f">Al</a> * n)));</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">if</span> (KL_max &gt; UINT16_MAX)</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            KL_max = <a class="code" href="table2_8h_a687090ff3f003de02a3267a4a4e3466d.html#a687090ff3f003de02a3267a4a4e3466d">K_max</a>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        uint16_t idx;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="table2_8h_ae2c8a13da49f9074af98379705bd28de.html#ae2c8a13da49f9074af98379705bd28de">K_padded_size</a>; idx++) {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="table2_8h_addb300f2c49e52f67257075b1150a570.html#addb300f2c49e52f67257075b1150a570">K_padded</a>[idx] &gt; KL_max)</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        }</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <a class="code" href="kvec_8h_ae2291cc2dec0e99cfedf3df20ed789a8.html#ae2291cc2dec0e99cfedf3df20ed789a8">kv_push</a>(uint16_t, KL, <a class="code" href="table2_8h_addb300f2c49e52f67257075b1150a570.html#addb300f2c49e52f67257075b1150a570">K_padded</a>[idx == 0 ? 0 : (idx - 1)]);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordtype">size_t</span> Z_tmp = (size_t) (<a class="code" href="util_8h_ac322750564abf93294e2ee9d453a4cca.html#ac322750564abf93294e2ee9d453a4cca">div_ceil</a>(ret.<a class="code" href="nanorq_8c.html#ab636f5e41b2988250d8026bda1b38366">Kt</a>, <a class="code" href="kvec_8h_aed803844669c465658789c41da65ff7b.html#aed803844669c465658789c41da65ff7b">kv_A</a>(KL, N_max - 1)));</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">if</span> (Z_tmp &gt; (UINT8_MAX + 1)) {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    ret.<a class="code" href="nanorq_8c.html#a5a8eb607e6c3f820a971b163abc936d5">Z</a> = (uint16_t) Z_tmp;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    uint16_t tmp = (uint16_t) (<a class="code" href="util_8h_ac322750564abf93294e2ee9d453a4cca.html#ac322750564abf93294e2ee9d453a4cca">div_ceil</a>(ret.<a class="code" href="nanorq_8c.html#ab636f5e41b2988250d8026bda1b38366">Kt</a>, ret.<a class="code" href="nanorq_8c.html#a5a8eb607e6c3f820a971b163abc936d5">Z</a>));</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">for</span> (n = 0; n &lt; <a class="code" href="kvec_8h_a59990a38a9dc0867b4b5070835e16428.html#a59990a38a9dc0867b4b5070835e16428">kv_size</a>(KL); n++) {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keywordflow">if</span> (tmp &lt;= <a class="code" href="kvec_8h_aed803844669c465658789c41da65ff7b.html#aed803844669c465658789c41da65ff7b">kv_A</a>(KL, n)) {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            ret.<a class="code" href="nanorq_8c.html#abae0610bc2a97bbf7f689e953e0b451f">N</a> = (uint16_t) (n + 1);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="kvec_8h_a597e8ac3c319a24e73c474498016cd67.html#a597e8ac3c319a24e73c474498016cd67">kv_destroy</a>(KL);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div><div class="ttc" id="nanorq_8c_html_a5a8eb607e6c3f820a971b163abc936d5"><div class="ttname"><a href="nanorq_8c.html#a5a8eb607e6c3f820a971b163abc936d5">oti_scheme::Z</a></div><div class="ttdeci">uint16_t Z</div><div class="ttdef"><b>Definition:</b> <a href="nanorq_8c_source.html#l00026">nanorq.c:26</a></div></div>
<div class="ttc" id="kvec_8h_aed803844669c465658789c41da65ff7b_html_aed803844669c465658789c41da65ff7b"><div class="ttname"><a href="kvec_8h_aed803844669c465658789c41da65ff7b.html#aed803844669c465658789c41da65ff7b">kv_A</a></div><div class="ttdeci">#define kv_A(v, i)</div><div class="ttdef"><b>Definition:</b> <a href="kvec_8h_source.html#l00061">kvec.h:61</a></div></div>
<div class="ttc" id="nanorq_8c_html_a9c45df87b235e7bcda3ed5a6bfccb65f"><div class="ttname"><a href="nanorq_8c.html#a9c45df87b235e7bcda3ed5a6bfccb65f">oti_common::WS</a></div><div class="ttdeci">size_t WS</div><div class="ttdef"><b>Definition:</b> <a href="nanorq_8c_source.html#l00022">nanorq.c:22</a></div></div>
<div class="ttc" id="nanorq_8c_html_af0680321aafddec8e701c78a3a1fc512"><div class="ttname"><a href="nanorq_8c.html#af0680321aafddec8e701c78a3a1fc512">oti_common::F</a></div><div class="ttdeci">size_t F</div><div class="ttdef"><b>Definition:</b> <a href="nanorq_8c_source.html#l00018">nanorq.c:18</a></div></div>
<div class="ttc" id="kvec_8h_ae2291cc2dec0e99cfedf3df20ed789a8_html_ae2291cc2dec0e99cfedf3df20ed789a8"><div class="ttname"><a href="kvec_8h_ae2291cc2dec0e99cfedf3df20ed789a8.html#ae2291cc2dec0e99cfedf3df20ed789a8">kv_push</a></div><div class="ttdeci">#define kv_push(type, v, x)</div><div class="ttdef"><b>Definition:</b> <a href="kvec_8h_source.html#l00077">kvec.h:77</a></div></div>
<div class="ttc" id="nanorq_8c_html_structoti__scheme"><div class="ttname"><a href="nanorq_8c.html#structoti__scheme">oti_scheme</a></div><div class="ttdef"><b>Definition:</b> <a href="nanorq_8c_source.html#l00025">nanorq.c:25</a></div></div>
<div class="ttc" id="nanorq_8c_html_abae0610bc2a97bbf7f689e953e0b451f"><div class="ttname"><a href="nanorq_8c.html#abae0610bc2a97bbf7f689e953e0b451f">oti_scheme::N</a></div><div class="ttdeci">uint32_t N</div><div class="ttdef"><b>Definition:</b> <a href="nanorq_8c_source.html#l00027">nanorq.c:27</a></div></div>
<div class="ttc" id="table2_8h_a687090ff3f003de02a3267a4a4e3466d_html_a687090ff3f003de02a3267a4a4e3466d"><div class="ttname"><a href="table2_8h_a687090ff3f003de02a3267a4a4e3466d.html#a687090ff3f003de02a3267a4a4e3466d">K_max</a></div><div class="ttdeci">static const uint16_t K_max</div><div class="ttdef"><b>Definition:</b> <a href="table2_8h_source.html#l00049">table2.h:49</a></div></div>
<div class="ttc" id="nanorq_8c_html_a32016e9752476d685a6cbb943497fddb"><div class="ttname"><a href="nanorq_8c.html#a32016e9752476d685a6cbb943497fddb">oti_common::T</a></div><div class="ttdeci">uint16_t T</div><div class="ttdef"><b>Definition:</b> <a href="nanorq_8c_source.html#l00019">nanorq.c:19</a></div></div>
<div class="ttc" id="util_8h_a0d345b215d6d851cdfbda58e48523f14_html_a0d345b215d6d851cdfbda58e48523f14"><div class="ttname"><a href="util_8h_a0d345b215d6d851cdfbda58e48523f14.html#a0d345b215d6d851cdfbda58e48523f14">div_floor</a></div><div class="ttdeci">#define div_floor(A, B)</div><div class="ttdef"><b>Definition:</b> <a href="util_8h_source.html#l00004">util.h:4</a></div></div>
<div class="ttc" id="kvec_8h_a597e8ac3c319a24e73c474498016cd67_html_a597e8ac3c319a24e73c474498016cd67"><div class="ttname"><a href="kvec_8h_a597e8ac3c319a24e73c474498016cd67.html#a597e8ac3c319a24e73c474498016cd67">kv_destroy</a></div><div class="ttdeci">#define kv_destroy(v)</div><div class="ttdef"><b>Definition:</b> <a href="kvec_8h_source.html#l00060">kvec.h:60</a></div></div>
<div class="ttc" id="nanorq_8c_html_ab636f5e41b2988250d8026bda1b38366"><div class="ttname"><a href="nanorq_8c.html#ab636f5e41b2988250d8026bda1b38366">oti_scheme::Kt</a></div><div class="ttdeci">size_t Kt</div><div class="ttdef"><b>Definition:</b> <a href="nanorq_8c_source.html#l00028">nanorq.c:28</a></div></div>
<div class="ttc" id="table2_8h_addb300f2c49e52f67257075b1150a570_html_addb300f2c49e52f67257075b1150a570"><div class="ttname"><a href="table2_8h_addb300f2c49e52f67257075b1150a570.html#addb300f2c49e52f67257075b1150a570">K_padded</a></div><div class="ttdeci">static const uint16_t K_padded[]</div><div class="ttdef"><b>Definition:</b> <a href="table2_8h_source.html#l00003">table2.h:3</a></div></div>
<div class="ttc" id="kvec_8h_a26b7d82301afb9448e9986d2ea0b4c66_html_a26b7d82301afb9448e9986d2ea0b4c66"><div class="ttname"><a href="kvec_8h_a26b7d82301afb9448e9986d2ea0b4c66.html#a26b7d82301afb9448e9986d2ea0b4c66">kv_resize</a></div><div class="ttdeci">#define kv_resize(type, v, s)</div><div class="ttdef"><b>Definition:</b> <a href="kvec_8h_source.html#l00066">kvec.h:66</a></div></div>
<div class="ttc" id="kvec_8h_a59990a38a9dc0867b4b5070835e16428_html_a59990a38a9dc0867b4b5070835e16428"><div class="ttname"><a href="kvec_8h_a59990a38a9dc0867b4b5070835e16428.html#a59990a38a9dc0867b4b5070835e16428">kv_size</a></div><div class="ttdeci">#define kv_size(v)</div><div class="ttdef"><b>Definition:</b> <a href="kvec_8h_source.html#l00063">kvec.h:63</a></div></div>
<div class="ttc" id="nanorq_8c_html_ab3556e4efb8921739e7f8d9665da2169"><div class="ttname"><a href="nanorq_8c.html#ab3556e4efb8921739e7f8d9665da2169">oti_common::SS</a></div><div class="ttdeci">uint16_t SS</div><div class="ttdef"><b>Definition:</b> <a href="nanorq_8c_source.html#l00021">nanorq.c:21</a></div></div>
<div class="ttc" id="nanorq_8c_html_ad5579bcfef782badbec24301ef37575f"><div class="ttname"><a href="nanorq_8c.html#ad5579bcfef782badbec24301ef37575f">oti_common::Al</a></div><div class="ttdeci">uint16_t Al</div><div class="ttdef"><b>Definition:</b> <a href="nanorq_8c_source.html#l00020">nanorq.c:20</a></div></div>
<div class="ttc" id="table2_8h_ae2c8a13da49f9074af98379705bd28de_html_ae2c8a13da49f9074af98379705bd28de"><div class="ttname"><a href="table2_8h_ae2c8a13da49f9074af98379705bd28de.html#ae2c8a13da49f9074af98379705bd28de">K_padded_size</a></div><div class="ttdeci">static const uint16_t K_padded_size</div><div class="ttdef"><b>Definition:</b> <a href="table2_8h_source.html#l00050">table2.h:50</a></div></div>
<div class="ttc" id="util_8h_ac322750564abf93294e2ee9d453a4cca_html_ac322750564abf93294e2ee9d453a4cca"><div class="ttname"><a href="util_8h_ac322750564abf93294e2ee9d453a4cca.html#ac322750564abf93294e2ee9d453a4cca">div_ceil</a></div><div class="ttdeci">#define div_ceil(A, B)</div><div class="ttdef"><b>Definition:</b> <a href="util_8h_source.html#l00003">util.h:3</a></div></div>
<div class="ttc" id="kvec_8h_a4a671ac1834fd07b44c20b76ef01c707_html_a4a671ac1834fd07b44c20b76ef01c707"><div class="ttname"><a href="kvec_8h_a4a671ac1834fd07b44c20b76ef01c707.html#a4a671ac1834fd07b44c20b76ef01c707">kv_init</a></div><div class="ttdeci">#define kv_init(v)</div><div class="ttdef"><b>Definition:</b> <a href="kvec_8h_source.html#l00059">kvec.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="nanorq_8c.html">nanorq.c</a></li>
    <li class="footer">Generated on Thu Jul 13 2017 16:38:41 for nanorq by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
